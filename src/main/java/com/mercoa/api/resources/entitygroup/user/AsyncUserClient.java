/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.mercoa.api.resources.entitygroup.user;

import com.mercoa.api.core.ClientOptions;
import com.mercoa.api.core.RequestOptions;
import com.mercoa.api.resources.entitygroup.user.requests.EntityFindEntityRequest;
import com.mercoa.api.resources.entitygrouptypes.types.EntityGroupUserRequest;
import com.mercoa.api.resources.entitygrouptypes.types.EntityGroupUserResponse;
import com.mercoa.api.resources.entitygrouptypes.types.EntityGroupUserSyncRequest;
import com.mercoa.api.resources.entitygrouptypes.types.FindEntityGroupUserResponse;
import com.mercoa.api.resources.entitytypes.types.TokenGenerationOptions;
import java.util.concurrent.CompletableFuture;

public class AsyncUserClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawUserClient rawClient;

    public AsyncUserClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawUserClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawUserClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Search entity group users
     */
    public CompletableFuture<FindEntityGroupUserResponse> find(String entityGroupId) {
        return this.rawClient.find(entityGroupId).thenApply(response -> response.body());
    }

    /**
     * Search entity group users
     */
    public CompletableFuture<FindEntityGroupUserResponse> find(String entityGroupId, EntityFindEntityRequest request) {
        return this.rawClient.find(entityGroupId, request).thenApply(response -> response.body());
    }

    /**
     * Search entity group users
     */
    public CompletableFuture<FindEntityGroupUserResponse> find(
            String entityGroupId, EntityFindEntityRequest request, RequestOptions requestOptions) {
        return this.rawClient.find(entityGroupId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Create entity user that will be added to all entities in the group. If a user with the same foreignId already exists, the user will be updated with the new information.
     */
    public CompletableFuture<EntityGroupUserResponse> create(String entityGroupId, EntityGroupUserRequest request) {
        return this.rawClient.create(entityGroupId, request).thenApply(response -> response.body());
    }

    /**
     * Create entity user that will be added to all entities in the group. If a user with the same foreignId already exists, the user will be updated with the new information.
     */
    public CompletableFuture<EntityGroupUserResponse> create(
            String entityGroupId, EntityGroupUserRequest request, RequestOptions requestOptions) {
        return this.rawClient.create(entityGroupId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Get entity user from a group
     */
    public CompletableFuture<EntityGroupUserResponse> get(String entityGroupId, String foreignId) {
        return this.rawClient.get(entityGroupId, foreignId).thenApply(response -> response.body());
    }

    /**
     * Get entity user from a group
     */
    public CompletableFuture<EntityGroupUserResponse> get(
            String entityGroupId, String foreignId, RequestOptions requestOptions) {
        return this.rawClient.get(entityGroupId, foreignId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Update entity user for all entities in the group.
     */
    public CompletableFuture<EntityGroupUserResponse> update(
            String entityGroupId, String foreignId, EntityGroupUserRequest request) {
        return this.rawClient.update(entityGroupId, foreignId, request).thenApply(response -> response.body());
    }

    /**
     * Update entity user for all entities in the group.
     */
    public CompletableFuture<EntityGroupUserResponse> update(
            String entityGroupId, String foreignId, EntityGroupUserRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .update(entityGroupId, foreignId, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Delete entity user from all entities in the group. This will also remove the user from all approval policies. If an approval policy will break as a result of this operation, this request will fail.
     */
    public CompletableFuture<Void> delete(String entityGroupId, String foreignId) {
        return this.rawClient.delete(entityGroupId, foreignId).thenApply(response -> response.body());
    }

    /**
     * Delete entity user from all entities in the group. This will also remove the user from all approval policies. If an approval policy will break as a result of this operation, this request will fail.
     */
    public CompletableFuture<Void> delete(String entityGroupId, String foreignId, RequestOptions requestOptions) {
        return this.rawClient.delete(entityGroupId, foreignId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Generate a JWT token for an entity group with the given options. This token can be used to authenticate to any entity in the entity group as the user in the Mercoa API and iFrame.
     */
    public CompletableFuture<String> getToken(String entityGroupId, String foreignId) {
        return this.rawClient.getToken(entityGroupId, foreignId).thenApply(response -> response.body());
    }

    /**
     * Generate a JWT token for an entity group with the given options. This token can be used to authenticate to any entity in the entity group as the user in the Mercoa API and iFrame.
     */
    public CompletableFuture<String> getToken(String entityGroupId, String foreignId, TokenGenerationOptions request) {
        return this.rawClient.getToken(entityGroupId, foreignId, request).thenApply(response -> response.body());
    }

    /**
     * Generate a JWT token for an entity group with the given options. This token can be used to authenticate to any entity in the entity group as the user in the Mercoa API and iFrame.
     */
    public CompletableFuture<String> getToken(
            String entityGroupId, String foreignId, TokenGenerationOptions request, RequestOptions requestOptions) {
        return this.rawClient
                .getToken(entityGroupId, foreignId, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Sync entity group users. This will add users to entities that do not have them and remove users from entities that have them.
     */
    public CompletableFuture<Void> sync(String entityGroupId) {
        return this.rawClient.sync(entityGroupId).thenApply(response -> response.body());
    }

    /**
     * Sync entity group users. This will add users to entities that do not have them and remove users from entities that have them.
     */
    public CompletableFuture<Void> sync(String entityGroupId, EntityGroupUserSyncRequest request) {
        return this.rawClient.sync(entityGroupId, request).thenApply(response -> response.body());
    }

    /**
     * Sync entity group users. This will add users to entities that do not have them and remove users from entities that have them.
     */
    public CompletableFuture<Void> sync(
            String entityGroupId, EntityGroupUserSyncRequest request, RequestOptions requestOptions) {
        return this.rawClient.sync(entityGroupId, request, requestOptions).thenApply(response -> response.body());
    }
}
